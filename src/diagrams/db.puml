@startuml

rectangle Users
Users-[dashed]u-(~~**User_Id**~~): "serial"
Users-[dashed]u-(~~**Username**~~~): varchar(30)
Users-[dashed]u-(**Password_Hash**): char(60)
Users-[dashed]u-(Session_Token): char(128)

hexagon ReadArticles

rectangle Articles
Articles-[dashed]u-(~~**Article_Id**~~): "smallserial"
Articles-[dashed]u-(**Title**): "varchar(400)"
Articles-[dashed]u-(~~**Publish_Date**~~~): date
Articles-[dashed]u-(~~**Placement**~~~): int
Articles-[dashed]u-(~~**Content_Path**~~~~): "char(16)"
Articles-[dashed]u-(**Content_Length**): int

hexagon ArticleKeywordLookups
ArticleKeywordLookups-[dashed]u-(**Keyword**): "varchar(20)"
ArticleKeywordLookups-[dashed]u-(**Keyword_Count**): "smallint"

hexagon ArticleHasKeywordsOfLength
ArticleHasKeywordsOfLength-[dashed]u-(**Keyword_Length**)
ArticleHasKeywordsOfLength-[dashed]r-(**Keywords_Of_Length_Count**)

Users-r-ReadArticles
ReadArticles-r->Articles

Articles-r->ArticleKeywordLookups
Articles-r->ArticleHasKeywordsOfLength

ArticleHasKeywordsOfLength-[dashed]d->ArticleKeywordLookups: Trigger sum of Keyword_Count where length(Keyword) = Keyword_Length stored in Keywords_Of_Length_Count

@enduml